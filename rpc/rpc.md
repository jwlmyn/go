# 一、什么是rpc？
1、屏蔽网络编程细节，调用远端的方法像调用本地一样简单
# 二、rpc通信流程
![image](https://github.com/user-attachments/assets/3a3ff586-4054-4b8e-9cda-3ee5fcb377b9)
1、rpc是一个远程调用，要保证数据的准确性，所以默认一般用TCP进行传输
2、网络传输是以二进制形式进行传输，所以中间有序列化和反序列化过程
3、涉及到动态代理技术，屏蔽具体细节（go语言中用的是反射，没有自带动态代理包）
# 三、可扩展向后兼容的协议
![image](https://github.com/user-attachments/assets/cde9f46d-076e-4e32-8860-c5389a734180)
1、请求头需要包括，消息ID、协议长度、协议版本、序列化方式、消息类型、扩展字段（防止有一些特殊的需求）
2、协议体里面放请求接口和参数
# 四、rpc为什么还要单独设计一个协议，而不用现有的http协议等
1、rpc更多的是应用间的通信，对性能要求较高
2、HTTP数据包大小相对请求数据要大很多，还要加很多无用的内容，比如回车换行符等
3、HTTP属于无状态协议，建立连接后断开，每次请求都要重新连接
# 五、有哪些常用的序列化？
1、JSON，需要额外开销空间大，且没有类型，比如java强类型语言，就需要反射来解决，服务方和客户端发送数据量要较小，否则严重影响性能
2、Hessian，比JSON紧凑，跨语言，但是对java中的一些对象类型不支持
3、Protobuf，不需要通过反射获取类型，序列化后比JSON和Hessian体积要小，序列化和反序列化很快
# 六、RPC框架如何选择序列化？
1、序列化与反序列化的性能效率
2、序列化与反序列化后的空间开销，二进制体积大小
3、序列化协议的通用性和兼容性
4、稳定性和可用率，要考虑是否有很多人用过、升级迭代后这个序列化协议，还可以稳定工作等因素

